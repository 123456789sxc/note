本书前几章介绍了各种线性和非线性的数据结构，并讨论了这些数据结构的相应运算。而在实际应用中，查找运算是非常常见的。面向一些数据量很大的实时系统，如订票系统、互联网上的信息检索系统等，查找效率尤其重要。本章将针对查找运算，讨论应该采用何种数据结构， 使用什么样的方法，并通过对它们的效率进行分析来比较各种查找算法在不同情况下的优劣。

# 7.1查找的基本概念

平均查找长度(Average Search Length,ASL)



# 7.2线性表的查找

## 7.2.1顺序查找

从表的一端开始，依次将记录的关键字和给定值进行比较，若某个记录的关键字和给定值相等，则查找成功；反之，若扫描整个表后，仍未找到关键字和给定值相等的记录，则查找失败。顺序查找方法既适用于线性表的顺序存储结构，又适用于线性表的链式存储结构。

```cpp
int search_seq(int s[],int key,int n)  //n为数组的最后一个元素的下标
{
    for(int i = n;i >= 1;i--)
        if(s[i] == key) return i;
    return 0;
}
```

上述代码的解释：

以上是对数组进行顺序查找的方法，数组s的元素下标范围$\in [1,n]$ ，我们从后往前进行顺序查找。其实从前往后也可以，这里从后往前的原因是可以对这种查找方法优化。

在查找过程中每步都要检测整个表是否查找完毕，即每次都要判断 $i \geq 1$是否成立，我们可以设置监视哨进行优化

```cpp
int search_seq(int s[],int key,int n)
{
    s[0] = key;
    for(int i = n;s[i]!=key;i--){}
    return i;
}
```

我们把key放到s[0]的位置，从后往前遍历的过程中如果碰到key就停下来。返回 i的值，如果是0说明数组s中没有key这个元素。这样就不用每次判断 $i \geq 1$ 了。

**然而实践证明，这个改进能使顺序查找在$n \geq$1000时，进行一次查找所需的平均时间几乎减少一 半。当然， 监视哨也可设在高下标处。**

顺序查找的优点是：算法简单， 对表结构无任何要求，既适用于顺序结构， 也适用于链式结构， 无论记录是否按关键字有序均可应用。其缺点是： 平均查找长度较大， 查找效率较低， 所以当n很大时， 不宜采用顺序查找。

## 7.2.2二分查找

二分查找也叫折半查找，折半查找**要求线性表必须采用顺序存储结构， 而且表中元素按关键字有序排列。**

折半查找的查找过程为：从表的中间记录开始， 如果给定值和 中间记录的关键字相等， 则查找成功；如果给定值大于或者小千中间记录的关键字， 则在表中大于或小于中间记录的那一半中查找，这样重复操作， 直到查找成功，或者在某一步中查找区间为空， 则代表查找失败。



## 7.2.3分块查找

分块查找 (Blocking Search) 又称索引顺序查找，这是一种性能介于顺序查找和折半查找之间的一种查找方法。在此查找法中，除表本身以外，尚需建立一个“索引表”。

有点像书中查目录一样







# 7.3树表的查找

## 7.3.1二叉排序树(BST)

二叉排序树又叫二叉搜索树，二叉查找树。

定义：

二叉排序树或者是一棵空树，或者是具有下列性质的二叉树：

- 若它的左子树不空，则左子树上所有结点的值均小于它的根结点的值；

- 若它的右子树不空，则右子树上所有结点的值均大于它的根结点的值；

- 它的左、 右子树也分别为二叉排序树。
- 二叉排序树的结点值不相等

二叉排序树的一个重要性质：中序遍历一棵二叉树时可以得到一个结点值递增的有序序列。



二叉排序树的存储方式是二叉链表



二叉排序树的递归查找

1. 若二叉排序树为空， 则查找失败，返回空指针。

2. 若二叉排序树非空， 将给定值key与根结点的值T->key进行比较：

   若key等于T->key, 则查找成功，返回根结点地址；

   若key小于T->key, 则递归查找左子树；

   若key大于T->key, 则递归查找右子树。



二叉排序树的插入

1. 若二叉排序树为空，则待插入结点\*S 作为根结点插入到空树中。

2. 若二叉排序树非空，则将key与根结点的关键字T->key进行比较：

   若key小于T->key, 则将\*S 插入左子树；

   若key大于T->key, 则将\*S 插入右子树。



二叉排序树的创建

二叉排序树的创建是从空的二叉排序树开始的， 每输入一个结点， 经过查找操作， 将新结点插入到当前二叉排序树的合适位置。

1. 将二叉排序树T初始化为空树。

2. 读入一个关键字为key的结点。

3. 如果读入的关键字key不是输入结束标志，则循环执行以下操作：

   将此结点插入二叉排序树T中；

   读入一个关键字为 key 的结点；



二叉排序树的删除

是个麻烦的过程，以后遇到再说吧



遇到的有关二叉排序树的题目：

[剑指 Offer 33. 二叉搜索树的后序遍历序列 - 力扣（Leetcode）](https://leetcode.cn/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/description/?favorite=xb9nqhhg)





